(function(){function r(){}function p(a){"string"===typeof a&&(a=document.querySelector(a));return a}function e(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(RegExp("(^| )"+b.split(" ").join("|")+"( |$)","gi")," ")}function k(a,b){a.classList?a.classList.add(b):a.className+=" "+b}var t=function(){var a=document.createElement("div");return["moz","webkit","ms","o"].filter(function(b){return b+"MatchesSelector"in a})[0]+"MatchesSelector"}(),g;g=function(a,b){function g(){var a=
this.href,b=this.getAttribute("data-ajaxhref")||a;m&&window.history.pushState({c:a||b},document.title,a||b);d&&e(d,"active");d=this;u();v(b)}function v(a){c&&c.abort();d&&k(d,"active");h&&e(l,"show");h?k(h,"show"):k(l,"loading");s&&n[a]?q(n[a]):(k(d,"working"),c=new XMLHttpRequest,c.open("GET",a,!0),c.onload=function(){if(200<=c.status&&400>c.status)s&&(n[a]=c.responseText),q(c.responseText);else throw Error("Target server returned an error");e(d,"working")},c.onerror=function(){e(d,"working");throw Error("Target server returned an error");
},c.send())}function q(b){l.innerHTML=b;h?e(h,"show"):e(l,"loading");h&&k(l,"show");w(a)}b=b||{};a=p(a);var l=p(b.g),h=b.b?p(b.b):!1,w=b.i||r,u=b.e||r,s="undefined"!=typeof b.a?b.a:!0,m=b.history||!1,n=[],c=!1,d=!1;!m||window.history&&window.history.pushState||(m=!1);m&&window.addEventListener("popstate",function(a){a.state&&q(n[a.state.c])},!1);a.addEventListener("click",function(a){for(var b=a.target;b&&b!==this&&!b[t]("[href]");)b=b.parentNode;if(b&&b!==this)return a.preventDefault(),g.call(b),
!1},!1)};"function"===typeof define&&define.d?define(g):"object"===typeof exports?module.h=g:window.f=g}).call(this);
